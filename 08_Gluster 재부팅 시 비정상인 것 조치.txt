<aside>
ğŸ’¡

gluster ì„¸íŒ…ì´ ì˜ ë˜ê³  ê° ê³µìœ  ì›ì²œ ì‹œìŠ¤í…œê³¼ ê³µìœ ë°›ì„ í´ë¼ì´ì–¸íŠ¸ ì‹œìŠ¤í…œì˜ ì˜¤ë¥˜ê°€ ìˆëŠ” ê²½ìš° ê³µìœ  ì›ì²œì„ stop & start (restart) í•´ì•¼í•˜ëŠ”ë°, ìë™ìœ¼ë¡œ ìˆ˜í–‰í•˜ê¸° ìœ„í•´ cron ì´ ì•„ë‹Œ systemd.timer ë°©ì‹ì„ í™œìš©í•˜ë„ë¡ êµ¬ì„±í•´ë³¸ ì˜ˆì œì…ë‹ˆë‹¤.

êµ¬ë™ì€ í•­ìƒ ê³µìœ  ì›ì²œì¸ ì„œë²„ê°€ ë¨¼ì € ì¬ì‹œì‘ëœ í›„ì— ê³µìœ  ë°›ì„ í´ë¼ì´ì–¸íŠ¸ ì‹œìŠ¤í…œì´ ì¬ì‹œì‘ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

</aside>

systemd.timerë¥¼ ì‚¬ìš©í•˜ì—¬ **`ì‹œìŠ¤í…œ ë¶€íŒ… í›„ 1ì´ˆ ë’¤`ì— `gluster ë³¼ë¥¨ì„ ì¬ì‹œì‘`**í•˜ëŠ” êµ¬ì„±ì„ ë§Œë“¤ê¸° ìœ„í•´ ë‹¤ìŒ ì ˆì°¨ë¥¼ ë”°ë¥´ì„¸ìš”

1. ì„œë¹„ìŠ¤ ìœ ë‹› íŒŒì¼ ìƒì„±
    
    ```bash
    sudo vi /etc/systemd/system/gluster-restart.service
    
    ```
    
    ë‹¤ìŒ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”
    
    ```jsx
    [Unit]
    Description=Restart Gluster Volume gv0
    After=network.target glusterd.service
    Requires=glusterd.service
    
    [Service]
    Type=oneshot
    ExecStart=/bin/sh -c 'echo y | gluster volume stop gv0 && gluster volume start gv0'
    
    [Install]
    WantedBy=multi-user.target
    
    ```
    

2. íƒ€ì´ë¨¸ ìœ ë‹› íŒŒì¼ ìƒì„±
    
    ```bash
    sudo vi /etc/systemd/system/gluster-restart.timer
    
    ```
    
    ë‹¤ìŒ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”
    
    ```
    [Unit]
    Description=Timer for Restarting Gluster Volume gv0
    
    [Timer]
    OnActiveSec=10s
    Unit=gluster-restart.service
    
    [Install]
    WantedBy=timers.target
    
    ```
    

3. systemd ë°ëª¬ ë¦¬ë¡œë“œ
    
    ```bash
    sudo systemctl daemon-reload
    
    ```
    
4. íƒ€ì´ë¨¸ í™œì„±í™” ë° ì‹œì‘
    
    ```bash
    sudo systemctl enable gluster-restart.timer
    sudo systemctl start gluster-restart.timer
    
    ```
    
5. íƒ€ì´ë¨¸ ìƒíƒœ í™•ì¸ (ì„ íƒì‚¬í•­)
    
    ```bash
    sudo systemctl status gluster-restart.timer
    
    ```
    

ì´ êµ¬ì„±ìœ¼ë¡œ ì‹œìŠ¤í…œì´ ë¶€íŒ…ëœ í›„ 10ì´ˆ ë’¤ì— gluster ë³¼ë¥¨ gv0ì´ ìë™ìœ¼ë¡œ ì¬ì‹œì‘ë©ë‹ˆë‹¤.